<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/me417/css/franklin.css"> <link rel=stylesheet  href="/me417/css/poole_hyde.css"> <link rel=stylesheet  href="/me417/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 968px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/me417/assets/c.svg"> <title>PID Interactive</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <br> <img src="/me417/assets/KuwaitUniversityLogoTextLight.svg" style="width: 200px; height: auto; display: inline"> <h1 style="font-size:2em; opacity: 0.75;"><a href="/me417/">ME 417</a></h1> <p class=lead >Control of Mechanical Systems</p> </div> <script> function hidePart(part_div) { var x = document.getElementById(part_div); if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; } } </script> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/me417/">Home</a> <a class="sidebar-nav-item " href="/me417/videos/">Lecture Videos</a> <a class="sidebar-nav-item " href="/me417/numerical_lessons/">Numerical Lessons</a> <a class="sidebar-nav-item " href="/me417/numerical_assignments/">Numerical Assignments</a> <a class="sidebar-nav-item " href="/me417/homeworks/">Homeworks</a> <br> <small style="text-transform: uppercase; font-size: 0.75em">Class Lectures</small> <div class=part  onclick="hidePart('part1_div')">I Introduction</div> <div id=part1_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_i/lecture1/"><b>L1</b> - <em>Introduction</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture2/"><b>L2</b> - <em>Analysis and Design</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture3/"><b>L3</b> - <em>Transfer Function</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture4/"><b>L4</b> - <em>Mechanical Systems</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture5/"><b>L5</b> - <em>Electromechanical Systems</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture6/"><b>L6</b> - <em>Poles Zeros and System Response</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture7/"><b>L7</b> - <em>The General Second-Order System</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture8/"><b>L8</b> - <em>Introduction to Stability and Feedback Control</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture9/"><b>L9</b> - <em>PID Control via Gain Tuning</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture10/"><b>L10</b> - <em>Steady-State Error</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture11/"><b>L11</b> - <em>Unity Feedback Controller Design</em></a> </div> <div class=part  onclick="hidePart('part2_div')">II Root-Locus</div> <div id=part2_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_ii/lecture1/"><b>L1</b> - <em>Introduction to Root-Locus</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture2/"><b>L2</b> - <em>Sketching the Root-Locus</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture3/"><b>L3</b> - <em>Transient Response Design via Gain Adjustment</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture4/"><b>L4</b> - <em>Improving Steady-State Response</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture5/"><b>L5</b> - <em>Improving Transient Response</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture6/"><b>L6</b> - <em>Improving Overall Response</em></a> </div> <div class=part  onclick="hidePart('part3_div')">III State-Space</div> <div id=part3_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_iii/lecture1/"><b>L1</b> - <em>State-Space Representation</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture2/"><b>L2</b> - <em>Stability and Steady-State Error in State-Space</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture3/"><b>L3</b> - <em>State-Space Controller Representation and Design</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture4/"><b>L4</b> - <em>Introduction to Linear Optimal Control</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture5/"><b>L5</b> - <em>State-Space Controller Design Problems</em></a> </div> <div class=part  onclick="hidePart('part4_div')">IV Frequency Response</div> <div id=part4_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_iv/lecture1/"><b>L1</b> - <em>Introduction to Frequency Response</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture2/"><b>L2</b> - <em>Sketching Bode Plots</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture3/"><b>L3</b> - <em>Refining Second Order Systems Bode Plots</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture4/"><b>L4</b> - <em>System Identification from Frequnecy Response</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture5/"><b>L5</b> - <em>Stability in Frequency Response</em></a> </div> </nav> <p>&copy; Ali AlSaibie, PhD.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=pid_interactive ><a href="#pid_interactive" class=header-anchor >PID Interactive</a></h1> <link rel=stylesheet  href="/me417/libs/jsx/jsxgraph.css"> <script type="text/javascript" src="/me417/libs/jsx/jsxgraphcore.js"></script> <script id=MathJax-script  async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <div id=board  class=jxgbox  style="width:900px; height:500px;"></div> <script> JXG.Options.text.useMathJax = true; var board = JXG.JSXGraph.initBoard('board', { boundingbox: [-30, 9, 30, -12], keepaspectratio: true, false: true, grid: true }); var elcart = board.create('line',[[0,0], [1,0]], {strokeOpacity: .01, strokeColor: '#000000', fixed: true, name: 'cartline'}); var glcart = board.create('glider', [0, 0, elcart], { name:''}); p = []; p.push(board.create('point', [function () { return glcart.X() - 2; }, -1], { visible: false, name: 'A' })); p.push(board.create('point', [function () { return glcart.X() - 2; }, +1], { visible: false, name: 'B' })); p.push(board.create('point', [function () { return glcart.X() + 2; }, 1], { visible: false, name: 'C' })); p.push(board.create('point', [function () { return glcart.X() + 2; }, -1], { visible: false, name: 'D' })); var pol = board.create('polygon', p, { hasInnerPoints: true }); var ct = board.create('group', p); c1 = board.create('circle', [glcart, [function () { return glcart.X(); }, 10]], { visible: false, name: 'circle', size: 3 }); glpend = board.create('glider', [c1], { visible: true, name: '', size: 3 }); line = board.create('line', [glcart, glpend], { visible: true, straightFirst: false, straightLast: false }); isInDragMode = false; var kpS = board.create('slider', [[-26, 7], [-21, 7], [1, 5.9, 10]]); board.createElement('text', [-28, 7, function () { return '\\[K_p\\]'; }]); var kiS = board.create('slider', [[-26, 5], [-21, 5], [0, 0.0, 10]]); board.createElement('text', [-28, 5, function () { return '\\[K_i\\]'; }]); var kdS = board.create('slider', [[-26, 3], [-21, 3], [0, 8.5, 5]]); board.createElement('text', [-28, 3, function () { return '\\[K_d\\]'; }]); var u = 0; var eprev =0, edot = 0, eint = 0, tprev = 0, e = 0; function startAnimation(x0) { var kp = kpS.Value(), ki = kiS.Value(), kd = kdS.Value(); var mr = 2, mc = 10, I = 0.106, b = 5, l = 0.4, g = 9.81; var lsqr = Math.pow(l, 2), mrsqr = Math.pow(mr, 2); eint = 0; var f = function (t, x) { e = 0 - x[2]; if (t>tprev) edot = (e-eprev)/(t-tprev); eint = eint + e * (t-tprev); eprev = e; tprev = t; u = kp * e +ki * eint + kd * edot; return [x[1], ((I + mr * lsqr) * -u + (I + mr * lsqr) * mr * l * Math.pow(x[3], 2) * Math.cos(x[2]) + mrsqr * lsqr * g * Math.cos(x[2]) * Math.sin(x[2]) - (I + mr * lsqr) * b * x[1]) / ((I + mr * lsqr) * (mc + mr) - mrsqr * lsqr * Math.pow(Math.cos(x[2]), 2)), x[3], (b * x[1] - mr * l * Math.cos(x[2]) * Math.pow(x[3], 2) - (mr + mc) * mr * g * l * Math.sin(x[2]) - mr * l * Math.cos(x[2]) * -u) / ((I + mr * lsqr) * (mc + mr) - mrsqr * lsqr * Math.pow(Math.cos(x[2]), 2))]; }; area = [0, 1000]; numberOfEvaluations = (area[1] - area[0]) * 1000; data = JXG.Math.Numerics.rungeKutta('heun', [x0[0], 0, x0[1], 0], area, numberOfEvaluations, f); duration = 100 * 1e3; glcart.moveAlong(function () { return function (t) { if (t >= duration) return NaN; angle2 = data[Math.floor(t / duration * numberOfEvaluations)][2]; px = data[Math.floor(t / duration * numberOfEvaluations)][0]; return [px, 0]; }; }()); glpend.moveAlong(function () { return function (t) { if (t >= duration) return NaN; angle2 = data[Math.floor(t / duration * numberOfEvaluations)][2]; px = data[Math.floor(t / duration * numberOfEvaluations)][0]; return [px + 10 * Math.sin(angle2), 0 - 10 * Math.cos(angle2)]; }; }()); } function hook() { if (!isInDragMode) { if (board.mode === board.BOARD_MODE_DRAG) { board.stopAllAnimation(); isInDragMode = true; } } if (isInDragMode) { if (board.mode !== board.BOARD_MODE_DRAG) { isInDragMode = false; angle = Math.atan2(glpend.Y() - glcart.Y(), glpend.X() - glcart.X())+Math.PI*1/2; position = glcart.X(); startAnimation([position, angle]); } } } board.addHook(hook); startAnimation([19, -1.2]); </script> <div class=page-foot > <div class=copyright > &copy; Ali AlSaibie, PhD. Last modified: April 23, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div>