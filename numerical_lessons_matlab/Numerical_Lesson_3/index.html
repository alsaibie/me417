<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/me417/libs/katex/katex.min.css"> <link rel=stylesheet  href="/me417/libs/highlight/github.min.css"> <link rel=stylesheet  href="/me417/css/franklin.css"> <link rel=stylesheet  href="/me417/css/poole_hyde.css"> <link rel=stylesheet  href="/me417/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 968px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/me417/assets/c.svg"> <title>Numerical Lesson #2 - MATLAB</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <br> <img src="/me417/assets/KuwaitUniversityLogoTextLight.svg" style="width: 200px; height: auto; display: inline"> <h1 style="font-size:2em; opacity: 0.75;"><a href="/me417/">ME 417</a></h1> <p class=lead >Control of Mechanical Systems</p> </div> <script> function hidePart(part_div) { var x = document.getElementById(part_div); if (x.style.display === "none") { x.style.display = "block"; } else { x.style.display = "none"; } } </script> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/me417/">Home</a> <a class="sidebar-nav-item " href="/me417/videos/">Lecture Videos</a> <a class="sidebar-nav-item active" href="/me417/numerical_lessons/">Numerical Lessons</a> <a class="sidebar-nav-item " href="/me417/numerical_assignments/">Numerical Assignments</a> <a class="sidebar-nav-item " href="/me417/homeworks/">Homeworks</a> <br> <small style="text-transform: uppercase; font-size: 0.75em">Class Lectures</small> <div class=part  onclick="hidePart('part1_div')">I Introduction</div> <div id=part1_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_i/lecture1/"><b>L1</b> - <em>Introduction</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture2/"><b>L2</b> - <em>Analysis and Design</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture3/"><b>L3</b> - <em>Transfer Function</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture4/"><b>L4</b> - <em>Mechanical Systems</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture5/"><b>L5</b> - <em>Electromechanical Systems</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture6/"><b>L6</b> - <em>Poles Zeros and System Response</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture7/"><b>L7</b> - <em>The General Second-Order System</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture8/"><b>L8</b> - <em>Introduction to Stability and Feedback Control</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture9/"><b>L9</b> - <em>PID Control via Gain Tuning</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture10/"><b>L10</b> - <em>Steady-State Error</em></a> <a class="sidebar-nav-item " href="/me417/part_i/lecture11/"><b>L11</b> - <em>Unity Feedback Controller Design</em></a> </div> <div class=part  onclick="hidePart('part2_div')">II Root-Locus</div> <div id=part2_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_ii/lecture1/"><b>L1</b> - <em>Introduction to Root-Locus</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture2/"><b>L2</b> - <em>Sketching the Root-Locus</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture3/"><b>L3</b> - <em>Transient Response Design via Gain Adjustment</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture4/"><b>L4</b> - <em>Improving Steady-State Response</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture5/"><b>L5</b> - <em>Improving Transient Response</em></a> <a class="sidebar-nav-item " href="/me417/part_ii/lecture6/"><b>L6</b> - <em>Improving Overall Response</em></a> </div> <div class=part  onclick="hidePart('part3_div')">III State-Space</div> <div id=part3_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_iii/lecture1/"><b>L1</b> - <em>State-Space Representation</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture2/"><b>L2</b> - <em>Stability and Steady-State Error in State-Space</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture3/"><b>L3</b> - <em>State-Space Controller Representation and Design</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture4/"><b>L4</b> - <em>Introduction to Linear Optimal Control</em></a> <a class="sidebar-nav-item " href="/me417/part_iii/lecture5/"><b>L5</b> - <em>State-Space Controller Design Problems</em></a> </div> <div class=part  onclick="hidePart('part4_div')">IV Frequency Response</div> <div id=part4_div  style="display:none;"> <a class="sidebar-nav-item " href="/me417/part_iv/lecture1/"><b>L1</b> - <em>Introduction to Frequency Response</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture2/"><b>L2</b> - <em>Sketching Bode Plots</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture3/"><b>L3</b> - <em>Refining Second Order Systems Bode Plots</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture4/"><b>L4</b> - <em>System Identification from Frequnecy Response</em></a> <a class="sidebar-nav-item " href="/me417/part_iv/lecture5/"><b>L5</b> - <em>Stability in Frequency Response</em></a> </div> </nav> <p>&copy; Ali AlSaibie, PhD.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=span_stylecolorgreenme_417_-_numerical_lesson_3 ><a href="#span_stylecolorgreenme_417_-_numerical_lesson_3" class=header-anchor > <span style='color:green'>ME 417 - Numerical Lesson #3</span></a></h1> <iframe src="https://player.vimeo.com/video/557124240" width=640  height=360  frameborder=0  allowfullscreen></iframe> <p><a href="/me417/numerical_lessons/index.html">Back to Lessons</a></p> <p>In the first part you will follow a guided example on how to use the Control System Designer app in MATLAB to design a controller using root-locus.</p> <p>In part two, you will design controllers for the disk drive system from previous assignments, in part four you will design controllers for a DC Motor.</p> <p>The focus of this lesson is on the design of the controller parameters, you will simulate the response using MATLAB’s built-in functions.</p> <h2 id=part_i_introduction_to_control_system_designer ><a href="#part_i_introduction_to_control_system_designer" class=header-anchor >PART I: INTRODUCTION TO CONTROL SYSTEM DESIGNER</a></h2> <h3 id=a_disk_drive_time_response_analysis ><a href="#a_disk_drive_time_response_analysis" class=header-anchor >A. Disk Drive Time Response Analysis</a></h3> <p>A disk drive read head can be modeled as a pair of rotating masses connected by a flexible shaft. As shown on Figure 1. <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">I_{m}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> represents the motor&#39;s inertia, while <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">I_{h}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> represents the head&#39;s inertia. The flexible shaft has a stiffness <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> and damping coefficient <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>. <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">M_{m}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the torque applied by the motor while <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">M_{D}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the disturbance torque.</p> <p>Given the following system shown on Figure 1, let us first design a proportional controller of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mo>=</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">G_c =K</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> using the Control System Designer, then try to design a controller of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mo>=</mo><mi>K</mi><mfrac><mrow><mi>s</mi><mo>+</mo><mi>z</mi></mrow><mrow><mi>s</mi><mo>+</mo><mi>p</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">G_c =K\frac{s+z}{s+p}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.283439em;vertical-align:-0.481108em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.802331em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> , where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> are the zero and pole location of the compensator &#40;controller&#41;.</p> <p> <center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image1.png" style="max-width:780px"></center> <strong> <center>Figure 1</center></strong></p> <p>To use the control system designer to design using root-locus only, we call the function controlSystemDesigner&#40;&#41; as shown in the following code snippet. Note the block diagram architecture used, which is the default one in Control System Designer app, but it can be changed as well. We will use the standard architecture in this assignment.</p> <pre><code class="matlab hljs"><span class=hljs-comment >%plot inline -f=svg -w 650 -h 400</span>
format compact

s = tf(<span class=hljs-string >&quot;s&quot;</span>);
Gp = (s + <span class=hljs-number >2</span>) / ((s + <span class=hljs-number >1</span>) * (s + <span class=hljs-number >8</span>));
Ga = <span class=hljs-number >1</span>/s;
H = <span class=hljs-number >2</span> / (s + <span class=hljs-number >2</span>);
Gol = Gp*Ga*H;
<span class=hljs-comment >% controlSystemDesigner(&#x27;rlocus&#x27;,G,C,H,F)</span>
<span class=hljs-comment >%      r --&gt;[ F ]--&gt;O---&gt;[ C ]---&gt;[ G ]----+---&gt; y</span>
<span class=hljs-comment >%                 - |                      |</span>
<span class=hljs-comment >%                   +-------[ H ]----------+</span></code></pre> <pre><code class="matlab hljs">controlSystemDesigner(<span class=hljs-string >&#x27;rlocus&#x27;</span>,Ga*Gp,<span class=hljs-number >1</span>,H,<span class=hljs-number >1</span>)  <span class=hljs-comment >% Comment this out later if you don&#x27;t want to start the tool</span></code></pre>
<p>In the code snippet, F is the input filter, it can also be used to scale the unit-step input &#40;say the input r&#61;10, we can place 10 for F&#41;. C is the controller transfer function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">G_c \left(s\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span>, this can be changed within Control System Designer,. You can leave it as 1 or if you have an idea of the controller you want to use you can add it and then manipulate its parameters inside the tool, in other words the controller <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">G_c</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> can be defined completely within the tool.</p>
<p><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>a</mi></msub><mo>∗</mo><msub><mi>G</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">G_a *G_p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >∗</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> is the equivalent plant transfer function. <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">G_a</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> can represent an actuator that has its own dynamics.</p>
<p>We can alternatively pass the open-loop transfer function to Control System Designer as shown in the following code snippet. But then the tool would not be able to distinguish between the different control block diagram components as we will see next.</p>
<pre><code class="matlab hljs">controlSystemDesigner(<span class=hljs-string >&#x27;rlocus&#x27;</span>,Gc*Ga*Gp*H)</code></pre>
<h3 id=ia_tuning_the_gain_using_the_control_system_designer ><a href="#ia_tuning_the_gain_using_the_control_system_designer" class=header-anchor >I.A – Tuning the gain using the Control System Designer</a></h3>
<p>Let’s see how we can use the Control System Designer tool to select the proper gain value to achieve a given performance specification.</p>
<p>Run the code above, and wait for the app window to show.</p>
<p>Figure 2 shows the main app window.</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image2.png" style="max-width:780px"></center>
 <strong>
<center>Figure 2</center></strong></p>
<p>Double click on the C block and change the value to 10, you will notice that the closed loop poles move and the step response is updated to capture the response of the new closed-loop system. As shown on Figure 3</p>
<p>Within the Root-Locus hold and drag one of the closed-loop poles &#40;the purple square&#41;. You will notice that they move along the root-locus and the step response updates interactively. This is another way to edit the system and observe the response.</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image3.png" style="max-width:780px"></center>
 <strong>
<center>Figure 3</center></strong></p>
<p>The Control System Designer also allows you to set design targets and observe the time response performance specifications.</p>
<p>-Right click within the Root Locus Editor and select Design Requirements-&gt; New.. , then select Damping Ratio and set the value to be greater than 0.7071 as shown on Figure 4. You will notice a black line is draw that represents the 0.7071 damping ratio line and a shaded area where the damping ratio is higher than 0.7071. The shaded areas represent the lower end of a given performance specifications. As shown on Figure 5</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image4.png" style="max-width:780px"></center>
 <strong>
<center>Figure 4</center></strong></p>
<p>To zoom within the Root Locus Editor, right click within the window, select Properties then change the limits under the limits tap to your desired range.</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image5.png" style="max-width:780px"></center>
 <strong>
<center>Figure 5</center></strong></p>
<p>You can set design requirements within the step response window as well. By following the same steps. As shown on Figure 6. The Step Response window will draw black lines and shaded areas to correspond to the design requirements.</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image6.png" style="max-width:780px"></center>
 <strong>
<center>Figure 6</center></strong></p>
<p>You can also display some of the performance characteristics on the step response window.</p>
<p>-Right click within the step response window. Select Characteristics-&gt;Peak Response and the window will highlight the location of the peak response amplitude and time, as shown on Figure 7</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image7.png" style="max-width:780px"></center>
 <strong>
<center>Figure 7</center></strong></p>
<p><strong>
<span style='color:green'>EXERCISE 1</span></strong></p>
<p>Using the above model and Control System Designer, find the value of the controller gain &#40;for the case <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mo>=</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">G_c =K</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>&#41;, to achieve the following performance specifications:<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>10</mn><mi>s</mi><mo separator=true >,</mo><msub><mi>T</mi><mi>p</mi></msub><mo>&lt;</mo><mn>7</mn><mi>s</mi><mo separator=true >,</mo><msub><mi>ω</mi><mi>n</mi></msub><mo>&gt;</mo><mn>1</mn><mfrac><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow><mi>s</mi></mfrac></mrow><annotation encoding="application/x-tex">T_s &lt;10s,T_p &lt;7s,\omega_n &gt;1\frac{rad}{s}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord >1</span><span class=mord >0</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class=mord >7</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&gt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class=mord >1</span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>. Use the design requirements tools within the Control System Designer. Show a single view screenshot of your work.</p>
<p><strong>
<span style='color:green'>EXERCISE 2</span></strong></p>
<p>Take the gain value obtained, and simulate the closed-loop response separately in MATLAB using step&#40;&#41;.</p>
<pre><code class="matlab hljs">Gc = <span class=hljs-number >2</span>;
Gcl = feedback(Gc*Ga*Gp, H);
<span class=hljs-built_in >figure</span>()
step(Gcl)</code></pre>
<h3 id=ib_adding_a_compensator_using_the_control_system_designer ><a href="#ib_adding_a_compensator_using_the_control_system_designer" class=header-anchor >I.B – Adding a compensator using the Control System Designer.</a></h3>
<p>If you want to achieve performance specifications that require the closed-loop poles to be placed outside the root-locus using a proportional controller &#40;simple gain&#41;, then we would have to change the shape of the root locus by adding a compensator. Let’s see how we can add a compensator of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mo>=</mo><mi>K</mi><mfrac><mrow><msub><mi>b</mi><mn>1</mn></msub><mi>s</mi><mo>+</mo><mi>z</mi></mrow><mrow><msub><mi>a</mi><mn>1</mn></msub><mi>s</mi><mo>+</mo><mi>p</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">G_c =K\frac{b_1 s+z}{a_1 s+p}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.377316em;vertical-align:-0.481108em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8962079999999999em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> using the Control System Designer.</p>
<p>Start the Control System Designer using Code Snippet 1. To add a pole or a zero right click within the Root Locus Editor and under Add Pole or Zero, you can find the appropriate selection: An Integrator is a pole at the origin, and a differentiator is a zero at the origin.</p>
<p><strong>
<span style='color:green'>EXERCISE 3</span></strong></p>
<p>Using the above model, design a PD Controller &#40;Ideal Differential Compensator&#41;, by placing a zero on the real axis, then choose the gain to achieve the following performance specifications:<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>2</mn><mi>s</mi><mo separator=true >,</mo><msub><mi>T</mi><mi>p</mi></msub><mo>&lt;</mo><mn>0.75</mn><mi>s</mi><mo separator=true >,</mo><msub><mi>ω</mi><mi>n</mi></msub><mo>&gt;</mo><mn>2</mn><mi>r</mi><mi>a</mi><mi>d</mi><mi mathvariant=normal >/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">T_s &lt;2s, T_p &lt;0.75s,\omega_n &gt;2rad/s</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord >2</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mord >.</span><span class=mord >7</span><span class=mord >5</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&gt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class=mord >/</span><span class="mord mathnormal">s</span></span></span></span>. Use the Control System Designer design requirements aid. Show a screenshot of your work. Note that the PD controller is of the form <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>c</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow><mo>=</mo><msub><mi>K</mi><mi>p</mi></msub><mo>+</mo><msub><mi>K</mi><mi>D</mi></msub><mi>s</mi><mo>=</mo><msub><mi>K</mi><mi>D</mi></msub><mrow><mo fence=true >(</mo><msub><mi>K</mi><mi>P</mi></msub><mi mathvariant=normal >/</mi><msub><mi>K</mi><mi>D</mi></msub><mo>+</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">G_c {\left(s\right)}=K_p +K_D s=K_D {\left(K_P /K_D +s\right)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">s</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord >/</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span>, the zero location will correspond to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msub><mi>K</mi><mi>P</mi></msub><mi mathvariant=normal >/</mi><msub><mi>K</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">-K_P /K_D</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >−</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord >/</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, and the gain will equal <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">K_D</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, you can then calculate <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">K_p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>.</p>
<p>Verify by simulating the response of the closed loop system with a PD controller and setting the gains as above, using the step&#40;&#41; command.</p>
<h2 id=part_ii_disk_drive_control ><a href="#part_ii_disk_drive_control" class=header-anchor >PART II: DISK DRIVE CONTROL</a></h2>
<p>A disk drive read head can be modeled as a pair of rotating masses connected by a flexible shaft. As shown on Figure 8 Disk Drive Model. &#125;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">I_m</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> represents the motor’s inertia, while <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">I_h</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> represents the head’s inertia. The flexible shaft has a stiffness <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> and damping coefficient <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>.<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">M_m</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the torque applied by the motor while <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">M_D</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the disturbance torque.</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/DiskDrive.svg" style="max-width:780px"></center>
 <strong>
<center>Figure 8</center></strong></p>
<p>With the following parameters given, complete the following problems. Disk Drive Parameters: &#125;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>m</mi></msub><mo>=</mo><mn>0</mn><mo separator=true >.</mo><mn>1</mn><mi>k</mi><mi>g</mi><mo>⋅</mo><msup><mi>m</mi><mn>2</mn></msup><mo separator=true >,</mo><msub><mi>I</mi><mi>h</mi></msub><mo>=</mo><mn>0</mn><mo separator=true >.</mo><mn>04</mn><mi>k</mi><mi>g</mi><mo>⋅</mo><msup><mi>m</mi><mn>2</mn></msup><mo separator=true >,</mo><mi>K</mi><mo>=</mo><mn>0</mn><mo separator=true >.</mo><mn>07</mn><mi>N</mi><mo>⋅</mo><mfrac><mi>m</mi><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></mfrac><mo separator=true >,</mo><msub><mrow><mtext>  </mtext><mi>M</mi></mrow><mi>D</mi></msub><mrow><mo fence=true >(</mo><mi>t</mi><mo fence=true >)</mo></mrow><mo>=</mo><mn>0</mn><mo separator=true >,</mo><mi>b</mi><mo>=</mo><mn>0</mn><mo separator=true >.</mo><mn>1</mn><mi>N</mi><mo>⋅</mo><mi>s</mi><mo>⋅</mo><mfrac><mi>m</mi><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">I_m =0\ldotp 1kg\cdot m^2 ,I_h =0\ldotp 04kg\cdot m^2 ,K=0\ldotp 07N\cdot \frac{m}{rad},{\;M}_D \left(t\right)=0,b=0\ldotp 1N\cdot s\cdot \frac{m}{rad}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >.</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >1</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.008548em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >.</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >0</span><span class=mord >4</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.008548em;vertical-align:-0.19444em;"></span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >0</span><span class=mpunct >.</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >0</span><span class=mord >7</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.095em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class=mord ><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >0</span><span class=mpunct >.</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >1</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.040392em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<h3 id=iia_derivation_of_transfer_functions ><a href="#iia_derivation_of_transfer_functions" class=header-anchor >II.A Derivation of Transfer Functions</a></h3>
<p><strong>
<span style='color:green'>EXERCISE 4</span></strong></p>
<p>Symbolically derive the transfer functions <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow><mo>=</mo><mfrac><mrow><msub><mi>θ</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><mrow><msub><mi>M</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">G_m {\left(s\right)}=\frac{\theta_m \left(s\right)}{M_m \left(s\right)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.53em;vertical-align:-0.52em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>h</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow><mo>=</mo><mfrac><mrow><msub><mi>θ</mi><mi>h</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><mrow><msub><mi>M</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">G_h {\left(s\right)}=\frac{\theta_h \left(s\right)}{M_m \left(s\right)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.53em;vertical-align:-0.52em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> in MATLAB. Verify with your answers from the previous assignment</p>
<p><pre><code class="matlab hljs">clear all;
I_m_=<span class=hljs-number >0.1</span>; I_h_=<span class=hljs-number >0.04</span>; K_=<span class=hljs-number >0.07</span>; b_=<span class=hljs-number >0.1</span>;
syms K b I_m I_h Mm s

A = [I_m*s^<span class=hljs-number >2</span>+b*s+K, -b*s-K;
    -b*s-K, I_h*s^<span class=hljs-number >2</span>+b*s+K];
B=[<span class=hljs-number >1</span>;<span class=hljs-number >0</span>];
G_symbolic = inv(A)*B
Gm_s = subs(G_symbolic(<span class=hljs-number >1</span>), {K I_m I_h b}, {K_ I_m_ I_h_ b_});
Gh_s = subs(G_symbolic(<span class=hljs-number >2</span>), {K I_m I_h b}, {K_ I_m_ I_h_ b_});
[num,den] = numden(Gm_s);
num = sym2poly(num);
den = sym2poly(den);
Gm = tf(num,den)
[num,den] = numden(Gh_s);
num = sym2poly(num);
den = sym2poly(den);
Gh = tf(num,den)</code></pre> Output: <pre><code class="plaintext hljs"> 
G_symbolic =
 
 (I_h*s^2 + b*s + K)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
           (K + b*s)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
 

Gm =
 
   200 s^2 + 500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.


Gh =
 
        500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.

 
G_symbolic =
 
 (I_h*s^2 + b*s + K)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
           (K + b*s)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
 

Gm =
 
   200 s^2 + 500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.


Gh =
 
        500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.

 
G_symbolic =
 
 (I_h*s^2 + b*s + K)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
           (K + b*s)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
 

Gm =
 
   200 s^2 + 500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.


Gh =
 
        500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.

 
G_symbolic =
 
 (I_h*s^2 + b*s + K)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
           (K + b*s)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
 

Gm =
 
   200 s^2 + 500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.


Gh =
 
        500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.

 
G_symbolic =
 
 (I_h*s^2 + b*s + K)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
           (K + b*s)/(I_h*I_m*s^4 + I_h*K*s^2 + I_m*K*s^2 + I_h*b*s^3 + I_m*b*s^3)
 

Gm =
 
   200 s^2 + 500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.


Gh =
 
        500 s + 350
  ------------------------
  20 s^4 + 70 s^3 + 49 s^2
 
Continuous-time transfer function.

</code></pre></p>
<p><strong>
<span style='color:green'>EXERCISE 5</span></strong></p>
<p>Simulate the closed-loop response again outside the Control System Designer using step&#40;&#41;. Structure your plant, controller and closed loop transfer functions. Plot the response of the motor position<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>t</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta_m \left(t\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> and head position <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>h</mi></msub><mrow><mo fence=true >(</mo><mi>t</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta_h \left(t\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></p>
<p>To get the response of the head, first find the transfer function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>U</mi><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><mrow><mi>R</mi><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{U{\left(s\right)}}{R\left(s\right)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.53em;vertical-align:-0.52em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class=mtight >(</span></span><span class="mord mathnormal mtight">s</span><span class="mclose mtight delimcenter" style="top:0em;"><span class=mtight >)</span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">U(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mopen >(</span><span class="mord mathnormal">s</span><span class=mclose >)</span></span></span></span> is the controller output <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mrow><mo fence=true >(</mo><mi>s</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">U\left(s\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span>, given the feedback system block diagram where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">G_m</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the plant transfer function. Then apply this output to the open-loop transfer function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">G_h</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. This is equivalent to retrieving a record of all the torque actions applied onto the system within feedback, then applying it to the <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">G_h</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to see how the head position <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>h</mi></msub><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\theta_h(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span> responded. See the Error Dynamics Lecture slides for a similar example. Another way to do it is to find the transfer function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><msub><mi mathvariant=normal >Θ</mi><mi>h</mi></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><mrow><msub><mi mathvariant=normal >Θ</mi><mi>m</mi></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\Theta_h(s)}{\Theta_m(s)}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.53em;vertical-align:-0.52em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.01em;"><span style="top:-2.655em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class=pstrut  style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, then given the motor position response you can directly get the head position. Plot the controller output <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span> in a different subplot.</p>
<p><pre><code class="matlab hljs"><span class=hljs-comment >% controlSystemDesigner(&#x27;rlocus&#x27;, Gm)</span>
t = <span class=hljs-number >0</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >20</span>;
Kp = <span class=hljs-number >.05</span>;
Gc =  Kp;
Gclm = feedback(Gc*Gm, <span class=hljs-number >1</span>)
<span class=hljs-built_in >figure</span>(<span class=hljs-string >&#x27;Position&#x27;</span>, [<span class=hljs-number >0</span> <span class=hljs-number >0</span> <span class=hljs-number >900</span> <span class=hljs-number >450</span>])
step(Gclm, t)
stepinfo(Gclm)
<span class=hljs-built_in >hold</span> on 
step((<span class=hljs-number >1</span>-Gclm)*Gc*Gh, t)</code></pre> Output: <pre><code class="plaintext hljs">
Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494

Error using &lt;a href=&quot;matlab:matlab.internal.language.introspective.errorDocCallback(&#x27;DynamicSystem/step&#x27;, &#x27;C:\Program Files\MATLAB\R2019a\toolbox\shared\controllib\engine\@DynamicSystem\step.m&#x27;, 95)&quot; style=&quot;font-weight:bold&quot;&gt;DynamicSystem/step&lt;/a&gt; (&lt;a href=&quot;matlab: opentoline(&#x27;C:\Program Files\MATLAB\R2019a\toolbox\shared\controllib\engine\@DynamicSystem\step.m&#x27;,95,0)&quot;&gt;line 95&lt;/a&gt;)
&quot;LineWidth&quot; is not a valid plot style.

Error in &lt;a href=&quot;matlab:matlab.internal.language.introspective.errorDocCallback(&#x27;snippet_I2&#x27;, &#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\snippet_I2.m&#x27;, 10)&quot; style=&quot;font-weight:bold&quot;&gt;snippet_I2&lt;/a&gt; (&lt;a href=&quot;matlab: opentoline(&#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\snippet_I2.m&#x27;,10,0)&quot;&gt;line 10&lt;/a&gt;)
step((1-Gclm)*Gc*Gh, t, &#x27;LineWidth&#x27;, 3)

Error in &lt;a href=&quot;matlab:matlab.internal.language.introspective.errorDocCallback(&#x27;run&#x27;, &#x27;C:\Program Files\MATLAB\R2019a\toolbox\matlab\lang\run.m&#x27;, 91)&quot; style=&quot;font-weight:bold&quot;&gt;run&lt;/a&gt; (&lt;a href=&quot;matlab: opentoline(&#x27;C:\Program Files\MATLAB\R2019a\toolbox\matlab\lang\run.m&#x27;,91,0)&quot;&gt;line 91&lt;/a&gt;)
evalin(&#x27;caller&#x27;, strcat(script, &#x27;;&#x27;));

Error in &lt;a href=&quot;matlab:matlab.internal.language.introspective.errorDocCallback(&#x27;run_matlab_scripts&#x27;, &#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\run_matlab_scripts.m&#x27;, 21)&quot; style=&quot;font-weight:bold&quot;&gt;run_matlab_scripts&lt;/a&gt; (&lt;a href=&quot;matlab: opentoline(&#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\run_matlab_scripts.m&#x27;,21,0)&quot;&gt;line 21&lt;/a&gt;)
run(&#x27;snippet_I2.m&#x27;)


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494

Undefined function or variable &#x27;LineWidth&#x27;.

Error in &lt;a href=&quot;matlab:matlab.internal.language.introspective.errorDocCallback(&#x27;run_matlab_scripts&#x27;, &#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\run_matlab_scripts.m&#x27;, 22)&quot; style=&quot;font-weight:bold&quot;&gt;run_matlab_scripts&lt;/a&gt; (&lt;a href=&quot;matlab: opentoline(&#x27;C:\Users\alsai\Dropbox\11_ACADEMIC\02_TEACHING\COURSE_SITES\ME 417 Site\numerical_lessons_matlab\NL3assets\run_matlab_scripts.m&#x27;,22,0)&quot;&gt;line 22&lt;/a&gt;)
set(findall(gcf,&#x27;type&#x27;,&#x27;line&#x27;),&#x27;linewidth&#x27;,LineWidth);


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494


Gclm =
 
           10 s^2 + 25 s + 17.5
  --------------------------------------
  20 s^4 + 70 s^3 + 59 s^2 + 25 s + 17.5
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 1.7725
    SettlingTime: 396.0642
     SettlingMin: 0.1166
     SettlingMax: 1.9307
       Overshoot: 93.0653
      Undershoot: 0
            Peak: 1.9307
        PeakTime: 5.3494

</code></pre> <img src="/me417/numerical_lessons_matlab/NL3assets/snippet_I2.svg" alt=""></p>
<h3 id=iic_disk_drive_collocated_position_control_with_compensation ><a href="#iic_disk_drive_collocated_position_control_with_compensation" class=header-anchor >II.C Disk Drive Collocated Position Control with Compensation</a></h3>
<p>Going beyond a proportional controller, we can use a compensator to improve the performance of the system even further. In class, we learned about: PI, Lag, PD, Lead, PID and Lead-Lag.</p>
<p><strong>
<span style='color:green'>EXERCISE 6</span></strong></p>
<p>Improve the controller performance by selecting a proper compensator and designing its parameters in the Control System Designer, in order to achieve the following performance specifications: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>1</mn><mi>s</mi><mo separator=true >,</mo><mi mathvariant=normal >%</mi><mi>O</mi><mi>S</mi><mo>&lt;</mo><mn>14</mn><mi mathvariant=normal >%</mi></mrow><annotation encoding="application/x-tex">T_s&lt;1s,\%OS&lt;14\%</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.94444em;vertical-align:-0.19444em;"></span><span class=mord >1</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >%</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.80556em;vertical-align:-0.05556em;"></span><span class=mord >1</span><span class=mord >4</span><span class=mord >%</span></span></span></span>. Justify your choice of compensator and provide its parameters.</p>
<p>Simulate the closed-loop system in MATLAB using step&#40;&#41;. Plot the responses of the motor and head positions, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>m</mi></msub><mrow><mo fence=true >(</mo><mi>t</mi><mo fence=true >)</mo></mrow><mo separator=true >,</mo><msub><mi>θ</mi><mi>h</mi></msub><mrow><mo fence=true >(</mo><mi>t</mi><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta_m \left(t\right),\theta_h \left(t\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> Plot the controller output <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span>, and compare it to the controller output from the previous problem. - Explain the differences. Which one is more aggressive? And which one is more likely to cause issues in real-world implementations and why? Provide a block diagram of your feedback system. &#40;A drawing&#41;</p>
<p><pre><code class="matlab hljs">t = <span class=hljs-number >0</span>:<span class=hljs-number >0.001</span>:<span class=hljs-number >5</span>;
Kp = <span class=hljs-number >3.079</span>*<span class=hljs-number >0.22489</span>;
Ki = <span class=hljs-number >0</span>;
Kd = <span class=hljs-number >0.22489</span>;
Gpid = pid(Kp, Ki, Kd)
<span class=hljs-comment >% Gc =  0.01;</span>
<span class=hljs-built_in >figure</span>(<span class=hljs-string >&#x27;Position&#x27;</span>, [<span class=hljs-number >0</span> <span class=hljs-number >0</span> <span class=hljs-number >900</span> <span class=hljs-number >450</span>])
Gcl = feedback(Gpid*Gm, <span class=hljs-number >1</span>)
E = (<span class=hljs-number >1</span>-Gcl)
[e,t] = step(E);
step(Gcl, t)
stepinfo(Gcl)</code></pre> Output: <pre><code class="plaintext hljs">
Gpid =
 
             
  Kp + Kd * s
             

  with Kp = 0.692, Kd = 0.225
 
Continuous-time PD controller in parallel form.


Gcl =
 
     44.98 s^3 + 250.9 s^2 + 424.9 s + 242.4
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


E =
 
             20 s^4 + 70 s^3 + 49 s^2
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 0.4331
    SettlingTime: 3.6194
     SettlingMin: 0.9124
     SettlingMax: 1.2866
       Overshoot: 28.6554
      Undershoot: 0
            Peak: 1.2866
        PeakTime: 1.1360


Gpid =
 
             
  Kp + Kd * s
             

  with Kp = 0.692, Kd = 0.225
 
Continuous-time PD controller in parallel form.


Gcl =
 
     44.98 s^3 + 250.9 s^2 + 424.9 s + 242.4
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


E =
 
             20 s^4 + 70 s^3 + 49 s^2
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 0.4331
    SettlingTime: 3.6194
     SettlingMin: 0.9124
     SettlingMax: 1.2866
       Overshoot: 28.6554
      Undershoot: 0
            Peak: 1.2866
        PeakTime: 1.1360


Gpid =
 
             
  Kp + Kd * s
             

  with Kp = 0.692, Kd = 0.225
 
Continuous-time PD controller in parallel form.


Gcl =
 
     44.98 s^3 + 250.9 s^2 + 424.9 s + 242.4
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


E =
 
             20 s^4 + 70 s^3 + 49 s^2
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 0.4331
    SettlingTime: 3.6194
     SettlingMin: 0.9124
     SettlingMax: 1.2866
       Overshoot: 28.6554
      Undershoot: 0
            Peak: 1.2866
        PeakTime: 1.1360


Gpid =
 
             
  Kp + Kd * s
             

  with Kp = 0.692, Kd = 0.225
 
Continuous-time PD controller in parallel form.


Gcl =
 
     44.98 s^3 + 250.9 s^2 + 424.9 s + 242.4
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


E =
 
             20 s^4 + 70 s^3 + 49 s^2
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 0.4331
    SettlingTime: 3.6194
     SettlingMin: 0.9124
     SettlingMax: 1.2866
       Overshoot: 28.6554
      Undershoot: 0
            Peak: 1.2866
        PeakTime: 1.1360


Gpid =
 
             
  Kp + Kd * s
             

  with Kp = 0.692, Kd = 0.225
 
Continuous-time PD controller in parallel form.


Gcl =
 
     44.98 s^3 + 250.9 s^2 + 424.9 s + 242.4
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


E =
 
             20 s^4 + 70 s^3 + 49 s^2
  ----------------------------------------------
  20 s^4 + 115 s^3 + 299.9 s^2 + 424.9 s + 242.4
 
Continuous-time transfer function.


ans = 

  &lt;a href=&quot;matlab:helpPopup struct&quot; style=&quot;font-weight:bold&quot;&gt;struct&lt;/a&gt; with fields:

        RiseTime: 0.4331
    SettlingTime: 3.6194
     SettlingMin: 0.9124
     SettlingMax: 1.2866
       Overshoot: 28.6554
      Undershoot: 0
            Peak: 1.2866
        PeakTime: 1.1360

</code></pre> <img src="/me417/numerical_lessons_matlab/NL3assets/snippet_I3.svg" alt=""></p>
<h3 id=iid_disk_drive_non-collocated_position_control_with_compensation ><a href="#iid_disk_drive_non-collocated_position_control_with_compensation" class=header-anchor >II.D Disk Drive Non-Collocated Position Control with Compensation</a></h3>
<p>So far we have only attempted to control the motor position with torque applied on the motor. What if our position sensor is not placed on the motor but on the head, and we want to control the position of the head by observing its position &#40;and error&#41; directly, while still acting on the motor. This is called a non-collocated control problem; input and output are not located in the same place.</p>
<p><strong>
<span style='color:green'>EXERCISE 7</span></strong></p>
<p>Design a PID Compensator for the system using Control System Designer to control the head position directly &#40;The open-loop transfer function is now <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>h</mi></msub><mo stretchy=false >(</mo><mi>s</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">G_h(s)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">s</span><span class=mclose >)</span></span></span></span>&#41;. Try to achieve the following performance specifications:<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>8</mn><mi>s</mi><mo separator=true >,</mo><mi mathvariant=normal >%</mi><mi>O</mi><mi>S</mi><mo>&lt;</mo><mn>65</mn><mi mathvariant=normal >%</mi></mrow><annotation encoding="application/x-tex">T_s &lt;8s,\%OS&lt;65\%</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.94444em;vertical-align:-0.19444em;"></span><span class=mord >8</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >%</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.80556em;vertical-align:-0.05556em;"></span><span class=mord >6</span><span class=mord >5</span><span class=mord >%</span></span></span></span>.</p>
<p>Simulate and plot the responses of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>m</mi></msub><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><msub><mi>θ</mi><mi>h</mi></msub><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\theta_m(t), \theta_h(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span> in a subplot and in another. Design your own compensator to achieve the performance specifications. You are not limited to the compensators discussed in class, use your understanding of root-locus manipulate the root-locus by your compensator in such away as to place the root-locus in your design range. Plots the responses of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mi>m</mi></msub><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mtext> </mtext><msub><mi>θ</mi><mi>h</mi></msub><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo><mo separator=true >,</mo><mtext> </mtext><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">\theta_m(t),\, \theta_h(t),\, u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span> and and explain your choice of compensator. What limitations would your controller have in real-world applications? Provide a block diagram of your feedback system.</p>
<h2 id=part_iii_dc_motor_control ><a href="#part_iii_dc_motor_control" class=header-anchor >PART III: DC MOTOR CONTROL</a></h2>
<p>Given the following DC Motor Model in the Equation shown, with the parameters given. Complete the following tasks. DC Motor Parameters: &#125;<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>t</mi></msub><mo>=</mo><mn>1</mn><mi>N</mi><mi>m</mi><mi mathvariant=normal >/</mi><mi>A</mi><mo separator=true >,</mo><msub><mi>K</mi><mi>b</mi></msub><mo>=</mo><mn>3</mn><mfrac><mrow><mi>V</mi><mi>s</mi></mrow><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></mfrac><mo separator=true >,</mo><msub><mi>R</mi><mi>a</mi></msub><mo>=</mo><mn>10</mn><mi mathvariant=normal >Ω</mi><mo separator=true >,</mo><msub><mi>L</mi><mi>a</mi></msub><mo>=</mo><mn>5</mn><mi>H</mi><mo separator=true >,</mo><mi>J</mi><mo>=</mo><mn>10</mn><mi>k</mi><mi>g</mi><msup><mi>m</mi><mn>2</mn></msup><mo separator=true >,</mo><msub><mi>D</mi><mi>m</mi></msub><mo>=</mo><mn>0</mn><mo separator=true >.</mo><mn>5</mn><mfrac><mrow><mi>N</mi><mi>m</mi><mi>s</mi></mrow><mrow><mi>r</mi><mi>a</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">K_t =1Nm/A,K_b =3\frac{Vs}{rad},R_a =10\Omega ,L_a =5H,J=10kgm^2 ,D_m =0\ldotp 5\frac{Nms}{rad}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">m</span><span class=mord >/</span><span class="mord mathnormal">A</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.217331em;vertical-align:-0.345em;"></span><span class=mord >3</span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class=mord >1</span><span class=mord >0</span><span class=mord >Ω</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal">L</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class=mord >5</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.008548em;vertical-align:-0.19444em;"></span><span class=mord >1</span><span class=mord >0</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.217331em;vertical-align:-0.345em;"></span><span class=mord >0</span><span class=mpunct >.</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >5</span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<h3 id=iiia_dc_motor_velocity_control_with_gain_tuning ><a href="#iiia_dc_motor_velocity_control_with_gain_tuning" class=header-anchor >III.A DC Motor Velocity Control with Gain Tuning</a></h3>
<p><strong>
<span style='color:green'>EXERCISE 8</span></strong></p>
<p>Using the Control System Designer design a velocity feedback controller for the DC motor, find the value of that achieves &#40;by trial and error&#41; the minimum settling time possible with such a controller. Report the value of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">K_p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> achieved and the associated Settling Time <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">T_s</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, Peak Time <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">T_p</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.969438em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>, Percent Overshoot <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >%</mi><mi>O</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">\%OS</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.80556em;vertical-align:-0.05556em;"></span><span class=mord >%</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>, damping ration <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ζ</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.07378em;">ζ</span></span></span></span>, and natural frequency <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">\omega_n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.</p>
<p>Show a screenshot of your work Simulate the response in MATLAB and plot the velocity response and controller output in separate subplots.</p>
<p><pre><code class="matlab hljs">s = tf(<span class=hljs-string >&#x27;s&#x27;</span>);
Kt = <span class=hljs-number >1</span>; Kb = <span class=hljs-number >3</span>; Ra = <span class=hljs-number >10</span>; La = <span class=hljs-number >5</span>; J = <span class=hljs-number >10</span>; Dm = <span class=hljs-number >0.5</span>;
Gv = Kt * s / ((J * s^<span class=hljs-number >2</span> + Dm * s) * (Ra + La * s) + Kt * Kb *s)</code></pre> Output: <pre><code class="plaintext hljs">
Gv =
 
             s
  ------------------------
  50 s^3 + 102.5 s^2 + 8 s
 
Continuous-time transfer function.


Gv =
 
             s
  ------------------------
  50 s^3 + 102.5 s^2 + 8 s
 
Continuous-time transfer function.


Gv =
 
             s
  ------------------------
  50 s^3 + 102.5 s^2 + 8 s
 
Continuous-time transfer function.


Gv =
 
             s
  ------------------------
  50 s^3 + 102.5 s^2 + 8 s
 
Continuous-time transfer function.


Gv =
 
             s
  ------------------------
  50 s^3 + 102.5 s^2 + 8 s
 
Continuous-time transfer function.

</code></pre></p>
<h3 id=iiib_dc_motor_velocity_control_with_compensation ><a href="#iiib_dc_motor_velocity_control_with_compensation" class=header-anchor >III.B DC Motor Velocity Control with Compensation</a></h3>
<p><strong>
<span style='color:green'>EXERCISE 9</span></strong></p>
<p>Improve the velocity controller performance by selecting a proper compensator and designing its parameters in the Control System Designer, in order to achieve the following performance specifications:<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>0.4</mn><mi>s</mi><mo separator=true >,</mo><mi mathvariant=normal >%</mi><mi>O</mi><mi>S</mi><mo>&lt;</mo><mn>5</mn><mi mathvariant=normal >%</mi></mrow><annotation encoding="application/x-tex">T_s&lt;0.4s,\%OS&lt;5\%</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.94444em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mord >.</span><span class=mord >4</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >%</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.80556em;vertical-align:-0.05556em;"></span><span class=mord >5</span><span class=mord >%</span></span></span></span>. Justify your choice of compensator and provide its parameters.</p>
<p>Simulate the closed-loop system in MATLAB using step&#40;&#41;. Plot the responses of the motor acceleration and velocity. Plot the controller output <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy=false >(</mo><mi>t</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">u(t)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class=mopen >(</span><span class="mord mathnormal">t</span><span class=mclose >)</span></span></span></span>, and compare it to the controller output from the previous problem. Can this be practically delivered? Explain.</p>
<pre><code class="matlab hljs"><span class=hljs-comment >% controlSystemDesigner(&#x27;rlocus&#x27;, Gv)</span>
<span class=hljs-comment >% 1819.2 (s+0.05) (s+4.671)</span>
<span class=hljs-comment >%  -------------------------</span>
<span class=hljs-comment >%       s</span>
Gc = <span class=hljs-number >1819</span> * (s+<span class=hljs-number >0.05</span>) * (s + <span class=hljs-number >4.671</span>) / s;
Gvcl = feedback(Gc*Gv,<span class=hljs-number >1</span>);
<span class=hljs-built_in >figure</span>(<span class=hljs-string >&#x27;Position&#x27;</span>, [<span class=hljs-number >0</span> <span class=hljs-number >0</span> <span class=hljs-number >900</span> <span class=hljs-number >450</span>])
step(Gvcl)</code></pre>
<img src="/me417/numerical_lessons_matlab/NL3assets/snippet_II2.svg" alt="">
<h3 id=problem_iiic_dc_motor_position_control_with_compensation_and_cascade_controllers ><a href="#problem_iiic_dc_motor_position_control_with_compensation_and_cascade_controllers" class=header-anchor >Problem III.C DC Motor Position Control with Compensation and Cascade Controllers</a></h3>
<p>For ease of implementation and troubleshooting, it is often more efficient to breakdown the control system design into multiple stages. In this problem you will use the new closed-loop system created from the previous problem and implement a new feedback loop around it to control position. Note that you already have a closed loop system relating reference velocity to output velocity, expressed in terms of the closed-loop transfer function. This can be thought of as a new “plant”, with this new plant we want to apply feedback to control position. The inner velocity control loop and outer position control loops are shown Figure 9, with the equivalent reduced form shown on Figure 10</p>
<p>
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image9.png" style="max-width:780px"></center>
 <strong>
<center>Figure 9</center></strong> 
<center><img src="/me417/assets/numerical_lessons_matlab/Numerical_Lesson_3/media/image10.png" style="max-width:780px"></center>
 <strong>
<center>Figure 10</center></strong></p>
<p>Practically, this allows the control system designer to tune an inner loop controller to achieve a certain closed-loop response for the inner loop, then step out into the next outer loop and design the outer loop controller etc.</p>
<p><strong>
<span style='color:green'>EXERCISE 10</span></strong></p>
<p>Design a position control outer loop controller, given the closed-loop velocity control transfer function you achieved from the previous problem. Using Control System Designer. Achieve the following performance specifications: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>&lt;</mo><mn>0.05</mn><mi>s</mi><mo separator=true >,</mo><mi mathvariant=normal >%</mi><mi>O</mi><mi>S</mi><mo>&lt;</mo><mn>2</mn><mi mathvariant=normal >%</mi></mrow><annotation encoding="application/x-tex">T_s&lt;0.05s, \%OS&lt;2\%</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.94444em;vertical-align:-0.19444em;"></span><span class=mord >0</span><span class=mord >.</span><span class=mord >0</span><span class=mord >5</span><span class="mord mathnormal">s</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >%</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.80556em;vertical-align:-0.05556em;"></span><span class=mord >2</span><span class=mord >%</span></span></span></span></p>
<p>Justify your choice of controllers, and present your controller parameters.</p>
<p>The velocity control closed-loop transfer function with the integrator and controller <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">G_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the new open-loop transfer function for the position feedback controller.</p>
<p>Plot the velocity and position response of the motor on one subplot and the output of the position controller on another subplot. What does the output of the position controller represent? Another common example of where cascaded feedback controllers are used is in the control of multi-rotors &#40;i.e. quadrotor drones&#41;. The inner loop would be an angular velocities controller that can be tuned &#40;the gyroscope would provide the angular velocities sensing&#41;, this inner loop will be tuned, tested and troubleshooted until it produces a satisfactory angular rates response, this new closed-loop will be implemented in an attitude &#40;angular position&#41; controller outer-loop.</p>
<p>Give an example of where cascaded feedback controllers can be used. <pre><code class="matlab hljs"><span class=hljs-comment >% controlSystemDesigner(&#x27;rlocus&#x27;, Gvcl/s)</span>
Gc_p = <span class=hljs-number >18</span>;
Gpcl = feedback(Gc_p*Gvcl/s,<span class=hljs-number >1</span>);
<span class=hljs-built_in >figure</span>(<span class=hljs-string >&#x27;Position&#x27;</span>, [<span class=hljs-number >0</span> <span class=hljs-number >0</span> <span class=hljs-number >900</span> <span class=hljs-number >450</span>])
step(Gpcl)</code></pre></p>
<img src="/me417/numerical_lessons_matlab/NL3assets/snippet_II3.svg" alt="">
<div class=page-foot >
  <div class=copyright >
    &copy; Ali AlSaibie, PhD. Last modified: May 31, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
    </div>